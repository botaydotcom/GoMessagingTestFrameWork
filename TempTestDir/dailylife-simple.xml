<TestSuite>
	<TestSuiteName>Daily-life</TestSuiteName>
	<TargetHost>203.117.155.188</TargetHost>
	<TargetPort>9100</TargetPort>
	<VarMap>
		<Var name="email" isFunc="true">
			<Value>Helper_GetNextUserEmail</Value>
		</Var>
		<Var name="name" isFunc="true">
			<Value>Helper_GetCurrentUserName</Value>
		</Var>
		<Var name="password">
			<Value>e10adc3949ba59abbe56e057f20f883e</Value>
		</Var>	
		<Var name="avatar">
			<Value>429933266161898</Value>
		</Var>
		<Var name="gender">
			<Value>0</Value>
		</Var>
		<Var name="mid1">
			<Value>13456793</Value>
		</Var>
		<Var name="msg1">
			<Value>Test message</Value>
		</Var>
		<Var name="mid2">
			<Value>13456794</Value>
		</Var>
		<Var name="msg2">
			<Value>Test message 1</Value>
		</Var>
		<Var name="mid3">
			<Value>13456795</Value>
		</Var>
		<Var name="msg3">
			<Value>This is Test message 3</Value>
		</Var>
		<Var name="mid4">
			<Value>13456796</Value>
		</Var>
		<Var name="msg4">
			<Value>This is Test message 4</Value>
		</Var>
		<Var name="rid1" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid12" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid2" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid21" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid3" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid31" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid4" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid51" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid52" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid61" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="rid62" isFunc="true">
			<Value>Helper_RequestId</Value>
		</Var>
		<Var name="photoname">
			<Value>This is a test photo</Value>
		</Var>
		<Var name="comment">
			<Value>This is a test comment</Value>
		</Var>
		<Var name="ts1" isFunc="true">
			<Value>Helper_Timestamp</Value>
		</Var>
		<Var name="ts2" isFunc="true">
			<Value>Helper_Timestamp</Value>
		</Var>
	</VarMap>
	<IgnoreMessages>
		<Message>
			<BaseCommand>0x00</BaseCommand>
			<Command>0x73</Command>
			<MessageType>Auth_Buddy_S2C_BuddyOnline</MessageType>
		</Message>
	</IgnoreMessages>

	<ListTest>
		<TestInfo skip="false" repeat="1">
			<Name>A logs in and post an item. Then A logs in, request id list, see one item. Finally, A logs in and delete item in 1. </Name>
		</TestInfo>
	</ListTest>

	<Tests>
		<!--A logs in and post an item-->
		<Test>
			<MessageSequence>
				<!--A log in-->
				<Message type="Auth_C2S_LoginInfo" fromClient="true">		
					<Command>0x02</Command>
					<Data>
						<Auth_C2S_LoginInfo>
							<Name>{{.email}}</Name>
							<Password>{{.password}}</Password>
							<ClientType>1</ClientType>
							<MachineId>1</MachineId>
							<SoftwareVersion>1</SoftwareVersion>
						</Auth_C2S_LoginInfo>
					</Data>
				</Message>

				<Message type="Auth_S2C_LoginUserInfo" fromClient="false">
					<Command>0x02</Command>
					<Data>
						<Auth_S2C_LoginInfoResult>
							<MyInfo>
								<UserId>{{.var1}}</UserId>
								<Name>{{.email}}</Name>
								<NickName>{{.name}}</NickName>
								<Gender>{{.gender}}</Gender>
								<AvatarId>{{.avatar}}</AvatarId>
							</MyInfo>
						</Auth_S2C_LoginInfoResult>
					</Data>
				</Message>

				<!--A send message to Server -->
				<Message type="DL_PostDailyItem" fromClient="true" wait="20s">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x01</Command>
					<Data>
						<DL_PostDailyItem>
							<Item>
								<ItemId>1</ItemId>
								<BasicInfo>
									<Timestamp>{{.ts1}}</Timestamp>
								</BasicInfo>
							</Item>
							<RequestId>{{.rid2}}</RequestId>
							<NoNotification>1</NoNotification>
						</DL_PostDailyItem>
					</Data>
				</Message>

				<!--Server send ack message to A -->
				<Message type="DL_OperationState" fromClient="false">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x01</Command>
					<Data>
						<DL_OperationState>
							<RequestId>{{.rid2}}</RequestId>
							<ItemId>{{.iid}}</ItemId>
						</DL_OperationState>
					</Data>
				</Message>

				<!--A request my item list-->
				<Message type="DL_RequestIDList" fromClient="true" wait="10s">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x04</Command>
					<Data>
						<DL_RequestIDList>
							<RequestId>{{.rid12}}</RequestId>
						</DL_RequestIDList>
					</Data>
				</Message>

				<!--server return item list with item in case 1-->
				<Message type="DL_IDListResponse" fromClient="false">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x03</Command>
					<Data>
						<DL_IDListResponse>
							<RequestId>{{.rid12}}</RequestId>
							<Ids>{{.iid}}</Ids>
						</DL_IDListResponse>
					</Data>
				</Message>

				<!--A request all item list-->
				<Message type="DL_RequestIDList" fromClient="true" wait="10s">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x05</Command>
					<Data>
						<DL_RequestIDList>
							<RequestId>{{.rid12}}</RequestId>
						</DL_RequestIDList>
					</Data>
				</Message>

				<!--server return item list with item in case 1-->
				<Message type="DL_IDListResponse" fromClient="false">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x04</Command>
					<Data>
						<DL_IDListResponse>
							<RequestId>{{.rid12}}</RequestId>
							<Ids>{{.iid}}</Ids>
						</DL_IDListResponse>
					</Data>
				</Message>

				<!--A send message to Server -->
				<Message type="DL_DeleteDailyItem" fromClient="true" wait="20s">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x0A</Command>
					<Data>
						<DL_DeleteDailyItem>
							<ItemId>{{.iid}}</ItemId>
							<RequestId>{{.rid4}}</RequestId>
						</DL_DeleteDailyItem>
					</Data>
				</Message>

				<!--Server send ack message to A -->
				<Message type="DL_OperationState" fromClient="false">
					<BaseCommand>0xA1</BaseCommand>
					<Command>0x01</Command>
					<Data>
						<DL_OperationState>
							<RequestId>{{.rid4}}</RequestId>
						</DL_OperationState>
					</Data>
				</Message>
			</MessageSequence>
		</Test>
	</Tests>
</TestSuite>